<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wedding RSVP</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #fdf6f0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding-top: 40px;
    }
    .container {
      max-width: 600px;
    }
    audio {
      position: fixed;
      bottom: 10px;
      right: 10px;
      z-index: 1000;
    }
  </style>
</head>
<body>

  <audio autoplay loop>
    <source src="your-song.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
  </audio>

  <div class="container">
    <h1 class="mb-4 text-center">Josh & Maddy's Wedding RSVP</h1>

    <form id="rsvp-form" style="display:none;" method="POST" action="https://formsubmit.co/youremail@example.com">
      <div id="guest-attendance"></div>

      <div class="mb-3">
        <label for="diet" class="form-label">Do you have any Dietary Requirements?</label>
        <input type="text" class="form-control" id="diet" name="diet" placeholder="Any dietary needs?" />
      </div>

      <div class="mb-3">
        <label for="song" class="form-label">Suggest A Song to Boogy To!</label>
        <input type="text" class="form-control" id="song" name="song" placeholder="Suggest a song for the playlist" />
      </div>

      <!-- Honeypot for spam protection -->
      <input type="text" name="_honey" style="display:none" />
      <!-- Redirect URL after submission -->
      <input type="hidden" name="_next" value="https://your-website-url.com/thank-you.html" />

      <button type="submit" class="btn btn-primary w-100">Submit RSVP</button>
    </form>
  </div>

  <script>
    // Change this to your real guest data
    const guestData = {
      "JOSH2025": {
        guests: ["Josh Brodrick", "Maddy Cook"]
      },
      "LUCY2025": {
        guests: ["Lucy Liu"]
      },
      "FAMILY2025": {
        guests: ["Mom", "Dad", "Kid1", "Kid2"]
      }
    };

    function createGuestInputs(guests) {
      const container = document.getElementById("guest-attendance");
      container.innerHTML = ''; // clear any existing

      guests.forEach((guest, index) => {
        const guestDiv = document.createElement("div");
        guestDiv.classList.add("mb-3");

        // Guest name label
        const label = document.createElement("label");
        label.classList.add("form-label");
        label.textContent = 'Will ${guest} be attending?';

        // Yes radio
        const yesRadio = document.createElement("input");
        yesRadio.type = "radio";
        yesRadio.name = `attendance_${index}`;
        yesRadio.value = "Absolutely! I wouldnâ€™t miss it for the world ðŸ’ƒ";
        yesRadio.required = true;
        yesRadio.id = `attendance_${index}_yes`;
        yesRadio.classList.add("form-check-input", "ms-2");

        const yesLabel = document.createElement("label");
        yesLabel.htmlFor = yesRadio.id;
        yesLabel.textContent = "Yes";
        yesLabel.classList.add("form-check-label", "ms-1", "me-3");

        // No radio
        const noRadio = document.createElement("input");
        noRadio.type = "radio";
        noRadio.name = `attendance_${index}`;
        noRadio.value = "Sadly, I canâ€™t make it ðŸ˜”";
        noRadio.id = `attendance_${index}_no`;
        noRadio.classList.add("form-check-input", "ms-2");

        const noLabel = document.createElement("label");
        noLabel.htmlFor = noRadio.id;
        noLabel.textContent = "No";
        noLabel.classList.add("form-check-label", "ms-1");

        // Wrap radios in a div with flex for alignment
        const radiosDiv = document.createElement("div");
        radiosDiv.classList.add("d-flex", "align-items-center");

        radiosDiv.appendChild(yesRadio);
        radiosDiv.appendChild(yesLabel);
        radiosDiv.appendChild(noRadio);
        radiosDiv.appendChild(noLabel);

        guestDiv.appendChild(label);
        guestDiv.appendChild(radiosDiv);
        container.appendChild(guestDiv);
      });
    }

    function askPasscode() {
      const code = prompt("Enter your RSVP code:");
      if (!code) {
        document.body.innerHTML = "<h2 class='text-center mt-5'>No code entered. Access denied.</h2>";
        return;
      }
      const data = guestData[code.toUpperCase()];
      if (!data) {
        document.body.innerHTML = "<h2 class='text-center mt-5'>Invalid code. Please try again.</h2>";
        return;
      }
      document.getElementById("rsvp-form").style.display = "block";
      createGuestInputs(data.guests);
    }

    window.onload = askPasscode;
  </script>

</body>
</html>
